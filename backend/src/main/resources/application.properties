# Database
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/sberlab}
quarkus.datasource.username=${DB_USER:sberlab}
quarkus.datasource.password=${DB_PASS:sberlab}

# Hibernate
quarkus.hibernate-orm.database.generation=none

# Flyway
quarkus.flyway.migrate-at-start=true

# JWT
mp.jwt.verify.publickey.location=publicKey.pem
mp.jwt.verify.issuer=sberlab-hub
smallrye.jwt.sign.key.location=privateKey.pem
smallrye.jwt.new-token.issuer=sberlab-hub

# CORS
quarkus.http.cors=true
quarkus.http.cors.origins=${CORS_ORIGINS:http://localhost:5173}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Authorization,Content-Type,Accept
quarkus.http.cors.exposed-headers=Authorization
quarkus.http.cors.access-control-max-age=24H

# App config
app.dev-auth=${DEV_AUTH:false}
app.admin.bootstrap-email=${ADMIN_BOOTSTRAP_EMAIL:}
app.google.client-id=${GOOGLE_CLIENT_ID:}

# OpenAPI
quarkus.smallrye-openapi.info-title=SberLab Hub Lite API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.swagger-ui.always-include=true

# Virtual Threads + Vector API
quarkus.package.jvm-args=--enable-preview --add-modules jdk.incubator.vector

# JDBC pool tuning for virtual threads (more connections since they're cheap)
quarkus.datasource.jdbc.max-size=50
quarkus.datasource.jdbc.acquisition-timeout=5S

# GigaChat API for embeddings
gigachat.auth.key=${GIGACHAT_AUTH_KEY:MDE5YzBkOTYtZTRkOS03ZThhLWIxYjQtYTRkMTA4NTJmYjhmOjczNjNkOTkzLTU0ODUtNDE0Ny05ODIxLWY0ZmZlYWZjNDAzZQ==}
gigachat.verify.ssl=${GIGACHAT_VERIFY_SSL:false}

# Redis Cache
quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}
quarkus.redis.timeout=5s

# Cache configuration
quarkus.cache.redis.expire-after-write=1h
quarkus.cache.redis.prefix=sberlab
quarkus.cache.type=redis

# Custom cache TTLs for different cache names
quarkus.cache.redis."project-details".expire-after-write=1h
quarkus.cache.redis."query-embeddings".expire-after-write=7d
